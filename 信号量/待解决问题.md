static void serial_thread_entry(void *parameter)
{
    char ch;
    while (1)
    {
        while (rt_device_read(serial, -1, &ch, 1) != 1)
        {
            rt_sem_take(&r_sem, RT_WAITING_NO);
        }
        ch = ch + 1;
        rt_device_write(serial, 0, &ch, 1);
    }
}

*******************************rt_sem_take永久方式等待信号量？***********************************

函数的第二个参数可以设置
第二个参数 RT_WAITING_FOREVER          -1永久阻塞直到获取资源
                 RT_WAITING_NO                    0 无阻塞
设置成RT_WAITING_NO时就相当于一直在查找信号资源（一直rt_sem_take）其他线程就执行不了了








                    